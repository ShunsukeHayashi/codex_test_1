# Usage Example Configuration
example_usage:
  phase0_inventory_completion:
    description: |
      STORY-001 を遂行し、既存ディレクトリの棚卸し情報を `docs/inventory.md` に反映する一連の流れ。
    intent: "対象ディレクトリの棚卸しを完了し、最新スナップショットを取得する"
    plan:
      - "対象ルートのサイズと更新日を収集"
      - "分類メモを `docs/inventory.md` に追記"
      - "@memory-bank.mdc と codex_prompt_chain を更新"
    commands:
      - "ls -1 /Users/shunsuke/Dev"
      - "du -sh /Users/shunsuke/Dev/*"
      - "stat -f '%Sm %N' /Users/shunsuke/Dev/*"
    verification:
      - "docs/inventory.md に全ディレクトリが列挙されている"
      - "git diff で変更差分をレビュー"
      - "@memory-bank.mdc に STORY-001 完了ログがある"
  phase1_scaffold_creation:
    description: |
      STORY-003 において `~/workspace` と各カテゴリディレクトリを作成する際のチェックリスト。
    prerequisites:
      - "STORY-001 と STORY-002 が完了し、分類ポリシーが承認済み"
    commands:
      - "mkdir -p ~/workspace/{active,incubate,archive,learning,tools,data}"
      - "touch ~/workspace/README.md"
    post_checks:
      - "ls ~/workspace"
      - "docs/migration_plan.md に作成結果を記録"
    rollback_strategy: "rm -rf ~/workspace/* 作成直後で空の場合に限る"
  phase2_migration_wave:
    description: |
      STORY-005 で移行対象をバッチ処理する際のテンプレート。
    batch_example:
      - name: wave1_active_repo
        targets:
          - source: "/Users/shunsuke/Dev/dify_workflow_gen_mcp"
            destination: "~/workspace/active/dify_workflow_gen_mcp"
        validation:
          - "git -C ~/workspace/active/dify_workflow_gen_mcp status"
          - "code ~/workspace/active/dify_workflow_gen_mcp"
          - "rg '/Users/shunsuke/Dev/dify_workflow_gen_mcp' ~/workspace -g'*'"
        fallback:
          - "mv ~/workspace/active/dify_workflow_gen_mcp /Users/shunsuke/Dev/"
